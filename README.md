# 简单电商项目

### 1. 需求分析

业务背景：电商业务中，需要给电商app设计一个用户钱包，用户可以往钱包中充值，购买商品时用户可以使用钱包中的钱消费，商品申请退款成功后钱会退回钱包中，用户也可以申请提现把钱提到银行卡中

用程序实现如下api接口

1. 查询用户钱包余额
2. 用户消费100元的接口
3. 用户退款20元接口
4. 查询用户钱包金额变动明细的接口



### 2. 数据库表设计

1. 用户表设计如下

    ![image-20230430002122384](https://typora-1312272916.cos.ap-shanghai.myqcloud.com//imgimage-20230430002122384.png)

    其中值得注意的是`balance`字段，为用户余额字段，使用DECIMAL

    DECIMAL类型的优点是能够精确表示小数，不会出现浮点数精度问题，一般用来表示货币较为合适

2. 











### 3. 接口设计

#### 1. 登录

比较常规，这里默认的账号密码：

```json
{
    "userName": "zhangsan",
    "password": "1234"
}
```

#### 2. 查看钱包余额

该接口已经整合到查询个人信息页里了

示例返回结果：

![截屏2023-04-30 00.26.09](https://typora-1312272916.cos.ap-shanghai.myqcloud.com//img%E6%88%AA%E5%B1%8F2023-04-30%2000.26.09.png)



#### 3. 用户消费接口





















